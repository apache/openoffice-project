<!doctype html>
<!--
    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

         https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html lang="en" prefix="og: https://ogp.me/ns#">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
<title>How to edit the Apache OpenOffice website</title>    <!-- Below Meta Tags Generated via https://www.opengraph.xyz -->
    <!-- If you don't care about social media then remove this section -->
    <!-- Values are set in pelicanconf.py -->
    <!-- HTML Meta Tags -->
    <meta name="description" content="The official developer website of the Apache OpenOffice open source project, home of OpenOffice Writer, Calc, Impress, Draw and Base.">
    <meta name="keywords" content="">
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://openoffice.apache.org">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Apache OpenOffice">
    <meta property="og:description" content="The official developer website of the Apache OpenOffice open source project, home of OpenOffice Writer, Calc, Impress, Draw and Base.">
    <meta property="og:image" content="https://openoffice.apache.org/images/AOO4_website_logo.png">
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="openoffice.apache.org">
    <meta property="twitter:url" content="https://openoffice.apache.org">
    <meta name="twitter:title" content="Apache OpenOffice">
    <meta name="twitter:description" content="The official developer website of the Apache OpenOffice open source project, home of OpenOffice Writer, Calc, Impress, Draw and Base.">
    <meta name="twitter:image" content="https://openoffice.apache.org/images/AOO4_website_logo.png">
    <!-- Above Meta Tags Generated via https://www.opengraph.xyz -->
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link rel="icon" href="/favicon.ico" type="image/x-icon" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body id="index" class="home">
  <div id="banner">
      <div id="bannerleft"><a alt="Apache OpenOffice" href="/">
          <img id="logo" alt="Apache OpenOffice" src="/images/AOO4_website_logo.png" height="60" width="161"/></a></div>
      <div id="bannercenter">The Free and Open Productivity Suite</div>
  </div>
  <div id="clear"></div>
  <nav class="navbar navbar-expand-sm navbar-dark bg-primary">
<button class="navbar-toggler" type="button"
        data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false"
        aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>

<!-- General menu -->
<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav mr-auto">
    <li class="nav-item active dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="generalDropdown" role="button" data-toggle="dropdown" aria-expanded="false">General</a>
      <ul class="dropdown-menu" aria-labelledby="generalDropdown">
	<li><a class="dropdown-item" href="/index.html">About</a></li>
	<li><a class="dropdown-item" href="/downloads.html">Downloads</a></li>
	<li><a class="dropdown-item" href="/license.html">License</a></li>
	<li><a class="dropdown-item" href="/mission.html">Mission</a></li>
	<li><a class="dropdown-item" href="/trademarks.html">Trademarks</a></li>
	<li><a class="dropdown-item" href="/press.html">Press</a></li>
	<li><a class="dropdown-item" href="https://www.openoffice.org/">OpenOffice.org</a></li>
      </ul>
    </li>

    <!-- Community menu -->
    <li class="nav-item active dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="communityDropdown" role="button" data-toggle="dropdown" aria-expanded="false">Community</a>
      <ul class="dropdown-menu" aria-labelledby="communityDropdown">
	<li><a class="dropdown-item" href="/get-involved.html">Get Involved</a></li>
	<li><a class="dropdown-item" href="/orientation/index.html">Orientation</a></li>
	<li><a class="dropdown-item" href="/mailing-lists.html">Mailing Lists</a></li>
	<li><a class="dropdown-item" href="/social.html">Social Networking</a></li>
	<li><a class="dropdown-item" href="/events.html">Events</a></li>
	<li><a class="dropdown-item" href="https://www.openoffice.org/support/">Support</a></li>
	<li><a class="dropdown-item" href="/native-lang.html">Native Language</a></li>
	<li><a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/OOOUSERS/">Planning Wiki</a></li>
	<li><a class="dropdown-item" href="/people.html">People</a></li>
	<li><a class="dropdown-item" href="/community-faqs.html">Community FAQs</a></li>
      </ul>
    </li>

    <!-- Development menu -->
    <li class="nav-item active dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="developmentDropdown" role="button" data-toggle="dropdown" aria-expanded="false">Development</a>
      <ul class="dropdown-menu" aria-labelledby="developmentDropdown">
	<li><a class="dropdown-item" href="/source.html">Source Code</a></li>
	<li><a class="dropdown-item" href="/bug-tracking.html">Bug Tracking</a></li>
	<li><a class="dropdown-item" href="/qa.html">Quality Assurance</a></li>
	<li><a class="dropdown-item" href="/translate.html">Translation</a></li>
	<li><a class="dropdown-item" href="/website-local.html">Website</a></li>
	<li><a class="dropdown-item" href="/security.html">Security Reports</a></li>
	<li><a class="dropdown-item" href="/contributing-code.html">Contributing Code</a></li>
	<li><a class="dropdown-item" href="/developer-faqs.html">Developer FAQs</a></li>
      </ul>
    </li>

    <!-- Project menu -->
    <li class="nav-item active dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="projectDropdown" role="button" data-toggle="dropdown" aria-expanded="false">Project</a>
      <ul class="dropdown-menu" aria-labelledby="projectDropdown">
        <li><a class="dropdown-item" href="/blogpage.html">Project Blog</a></li>
	<li><a class="dropdown-item" href="/pmc-faqs.html">PMC FAQs</a></li>
      </ul>
    </li>
  </ul>

  <!-- The ASF menu -->
  <div class="navbar-nav" style="padding-top: 0.5rem;">
    <div class="nav-item dropdown dropdown-menu-right active">
      <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <img src="https://www.apache.org/foundation/press/kit/feather.svg"
          width="32" height="32" class="d-inline-block align-top"
          alt="Apache Feather">
        The ASF
      </a>
      <div class="dropdown-menu dropdown-menu-right">
	<a class="dropdown-item" href="https://www.apache.org/">Website</a>
	<a class="dropdown-item" href="https://www.apache.org/licenses/">License</a>
	<a class="dropdown-item" href="https://www.apache.org/security/">Security</a>
	<a class="dropdown-item" href="https://www.apache.org/events/current-event">Events</a>
	<a class="dropdown-item" href="https://www.openoffice.org/donations.html">Donations</a>
	<a class="dropdown-item" href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a>
	<a class="dropdown-item" href="https://www.apache.org/foundation/thanks.html">Thanks</a>
      </div>
    </div>
  </div>
</div>  </nav>
  <div id="contenta">
    <br/>
    <h2 id="new-workflow">New Workflow<a class="headerlink" href="#new-workflow" title="Permalink">&para;</a></h2>
<p>Both <a href="https://www.openoffice.org">https://www.openoffice.org</a> and this website - <a href="https://openoffice.apache.org">https://openoffice.apache.org</a> are being
moved to a new Git based process.</p>
<ul>
<li><a href="https://github.com/apache/openoffice-org/">openoffice.org</a></li>
<li><a href="https://github.com/apache/openoffice-project/">openoffice.apache.org</a></li>
</ul>
<p>Workflow is described in the README files in each repository.</p>
<hr/>
<p><strong>The Apache CMS is obsolete</strong>. Some of the workflow below <em>might</em> be useful and can be repurposed.</p>
<hr/>
<p>This documentation shows how to edit the Apache OpenOffice
website. This includes creation of new pages, modification, and deletion - for files
and sub-directories.</p>
<h2 id="how-it-works-in-general">How it works in general<a class="headerlink" href="#how-it-works-in-general" title="Permalink">&para;</a></h2>
<p>The website is hosted in a Content Management System (CMS). When you edit a web page
there are potentially four different versions of it to think about:</p>
<ol>
<li>There is the latest version of the page source stored in subversion.</li>
<li>There is your working copy of that page source, which you are editing.</li>
<li>There is the generated HTML from that source, in the staging directory.</li>
<li>There is the production version of the HTML, which is what the public sees.</li>
</ol>
<p>The general flow for updating the website is:</p>
<ol>
<li>You check out the latest version of the web page's source.</li>
<li>You edit the page source using <a href="http://daringfireball.net/projects/markdown/syntax">Markdown text syntax</a> (mdtext).</li>
<li>You commit the source into the repository.  (You will see the SVN commit mail with
your log message.)</li>
<li>The commit automatically triggers a build that converts the markdown files
into HTML files in the staging directory.  (You will see a commit mail with "Staging
update by buildbot" as log message.)</li>
<li>You verify that the staged webpage is correct and then tell the CMS to publish
the changes to the production directory.  (You will see a commit mail with "Publishing
merge to openofficeorg site by <your apache="" id="">" as log message.)</your></li>
</ol>
<p>The intent of this workflow is to allow committers flexibility in changing
webpages and testing changes on a staging website, before moving these changes to
the public web site.</p>
<h2 id="command-line-editing-workflow">Command line editing workflow<a class="headerlink" href="#command-line-editing-workflow" title="Permalink">&para;</a></h2>
<p>It is assumed that you have already checked out the code from the SVN repository
(<a href="https://svn.apache.org/repos/asf/openoffice">https://svn.apache.org/repos/asf/openoffice</a>).</p>
<p>Edit the file via your favorite editor like vi and finally commit via SVN:</p>
<pre><code> vi myfile.mdtext
 svn ci -m"My log message" myfile.mdtext
</code></pre>
<p>Now wait a few seconds so that the entire website can be rebuilt.
Verify the staged webpage in a web browser at:</p>
<pre><code> http://openofficeorg.staging.apache.org/openofficeorg/myfile.html
</code></pre>
<p>Then publish the site:</p>
<pre><code>curl -sL http://s.apache.org/cms-cli | perl
</code></pre>
<p>If this does not work on your local machine just do it on "people.apache.org" by
executing this:</p>
<pre><code>ssh -t &lt;user&gt;@people.apache.org publish.pl openofficeorg &lt;your Apache ID&gt;
</code></pre>
<h2 id="browser-based-editing-workflow">Browser-based editing workflow<a class="headerlink" href="#browser-based-editing-workflow" title="Permalink">&para;</a></h2>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink">&para;</a></h3>
<h4 id="browser-bookmark">Browser bookmark<a class="headerlink" href="#browser-bookmark" title="Permalink">&para;</a></h4>
<p>Normally you see the webpage in your browser. To update this page with an
inline-editor and little preview you use the <a href="javascript:void(location.href='https://cms.apache.org/redirect?uri='+escape(location.href))">Apache CMS</a> JavaScript bookmarklet.  Drag that
link to your browser's toolbar.  For more information see <a href="https://cms.apache.org/#bookmark">here</a>.</p>
<h4 id="apache-id">Apache ID<a class="headerlink" href="#apache-id" title="Permalink">&para;</a></h4>
<p>Furthermore, you need an Apache ID to authenticate to the system.</p>
<h3 id="starting">Starting<a class="headerlink" href="#starting" title="Permalink">&para;</a></h3>
<p>Browse to the webpage or directory you would like to edit and click on
the bookmarklet. Now click on the [Edit this directory] link on the top. The following
is displayed as content from the CMS.</p>
<h3 id="edit-an-existing-webpage">Edit an existing webpage<a class="headerlink" href="#edit-an-existing-webpage" title="Permalink">&para;</a></h3>
<p>Click on the actions link [Edit] in the appropriate table cell for editing the
current file. If the file is not in this directory but in a subdirectory, just click on
the directory name (e.g., "docs/") to enter this directory.</p>
<p>Now you should see a new webpage with four fields:</p>
<ol>
<li>Upper left is the inline editor for text in markdown syntax.</li>
<li>Upper right shows the written text as a permanent preview or as HTML source code.</li>
<li>Below the editor you can enter a log message.</li>
<li>Enter a general header text, e.g., the license of the entered text.</li>
</ol>
<p>When you have finished writing your text, check the "Quick Commit" box, enter a
commit message and click on [Submit].  This commits your changes to the Subversion
repository.</p>
<h3 id="verifying-the-staged-web-site">Verifying the staged web site<a class="headerlink" href="#verifying-the-staged-web-site" title="Permalink">&para;</a></h3>
<p>As noted above, committing your changes triggers a build of the markdown files
into HTML in the staging directory.  Wait a few
seconds and then click the [Staged] link to view your web page as staged.</p>
<p>At this point you should test your web page.  Does it look right?  Any spelling
errors? Do the links work?  If you've made substantial changes, perhaps test in
more than one browser.</p>
<p>Once you are satisfied that the page is correct, you are ready to publish it
to the production site.</p>
<h3 id="publishing-to-the-production-directory">Publishing to the production directory<a class="headerlink" href="#publishing-to-the-production-directory" title="Permalink">&para;</a></h3>
<p>After you have edited your files and/or directories, you need now to publish your
modifications into production. For this please click on the link
[Publish site] on the top of the webpage. Enter a commit message on click
on [Submit].  After a few seconds you can check the [Production] link to see the
live version of your changes.</p>
<h3 id="create-a-new-webpage">Create a new webpage<a class="headerlink" href="#create-a-new-webpage" title="Permalink">&para;</a></h3>
<p>When in the correct directory, at the top enter a name for the new text file (e.g.,
"my-file.mdtext"). Now you enter your text (see topic above).</p>
<h3 id="create-new-subdirectory">Create new subdirectory<a class="headerlink" href="#create-new-subdirectory" title="Permalink">&para;</a></h3>
<p>When in the correct directory, at the top enter a name for the new directory (e.g.,
"my-dir/"). Make sure you entered a trailing "/"!</p>
<h3 id="delete-a-webpage-or-subdirectory">Delete a webpage or subdirectory<a class="headerlink" href="#delete-a-webpage-or-subdirectory" title="Permalink">&para;</a></h3>
<p>When in the correct directory, click on the actions link [Delete] in the appropriate
table cell and enter a commit message. Finally click on [Submit].  Generally speaking
it is always a good idea to use the CMS to delete files and directories over using
the command-line svn interface, as the CMS will ensure everything gets deleted from
the staging (and eventually production) repository on commit.  If you use the command-
line interface instead, you will also need to manually delete the corresponding entities
in the staging repository in order for those changes to propagate to the production site.</p>
<h2 id="links">Links<a class="headerlink" href="#links" title="Permalink">&para;</a></h2>
<p><a href="http://www.apache.org/dev/cmsref.html">CMS Documentation Reference</a></p>

  </div>

  <footer class="navbar-expand-lg navbar-light bg-light">
    <div class="footer" id="footer">
        <div class="container-fluid">
          Copyright &copy; 2011-2024 The Apache Software Foundation,
          Licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0.</a> | <a href="/contact.html">Contact Us</a> | <a href="/terms.html">Terms of Use</a> | <a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a>
          <br/>
          Apache, OpenOffice, OpenOffice.org and the seagull logo are registered trademarks of The Apache Software Foundation.
          The Apache feather logo is a trademark of The Apache Software Foundation.
          Other names appearing on the site may be trademarks of their respective owners.
        </div><!-- #container-fluid -->
        <div class="row container-fluid">
          <div class="col-sm">
            <a href="https://www.apache.org/">
              <img src="https://www.apache.org/img/asf_logo.png" alt="The Apache Software Foundation" style="border: 0; margin-top: 2px" width="200" height="82">
            </a>
          </div>
          <div class="col-sm center-align">
            <a href="https://www.apache.org/foundation/contributing.html">
              <img src="https://www.apache.org/images/SupportApache-small.png" alt="Support The ASF" height="80" width="80">
            </a>
          </div>
          <div class="col-sm right-align">
            <a class="acevent" data-format="wide" data-mode="light" data-event="random"></a>
          </div>
        </div>
    </div>
  </footer>
  <!-- Start load of stylesheets (will need to upgrade periodically) -->
  <link href="/theme/css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="/theme/css/github-markdown.min.css" rel="stylesheet" type="text/css">
  <link href="/theme/css/openoffice.css" rel="stylesheet" type="text/css">
  <!-- End stylesheets -->
  <!-- Start the loading of javascript frameworks (will need to upgrade periodically) -->
  <script src="https://www.apachecon.com/event-images/snippet.js"></script>
  <script src="/theme/js/jquery.slim.min.js"></script>
  <script src="/theme/js/popper.min.js"></script>
  <script src="/theme/js/bootstrap.min.js"></script>
  <!-- End the loading of javascript frameworks -->
<!-- Source: pages/docs/edit-cms.md; Template: page; Url: pages/docs/edit-cms.html --></body>
</html>